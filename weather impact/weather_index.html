<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Impact Indicators - AirTraffic</title>
    <link rel="stylesheet" href="weather_styles.css">
</head>
<body>
    <div class="container">
        <!-- Main Content -->
        <main class="main-content full-width">
            <!-- Header -->
            <header class="header">
                <div class="header-title">
                    <h1>Weather Impact Indicators</h1>
                    <p>Real-time airway traffic monitoring</p>
                </div>
                <div class="header-actions">
                    <div class="live-indicator">
                        <span class="live-dot"></span>
                        LIVE
                    </div>
                    <div class="search-box">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                        </svg>
                        <input type="text" placeholder="Search flights, airports...">
                    </div>
                    <button class="icon-btn theme-toggle" aria-label="Toggle Theme">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="2"/>
                        <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </button>
                    <button class="icon-btn">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>
                        </svg>
                    </button>
                    <div class="user-profile">
                        <div class="user-avatar">A</div>
                        <div class="user-info">
                            <div class="user-name">Admin User</div>
                            <div class="user-role">Controller</div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Content -->
            <div class="content">
                <!-- Weather Alert Cards -->
                <div class="weather-cards">
                    <div class="weather-card fog-card">
                        <div class="weather-icon">
                            <svg width="48" height="48" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"/>
                            </svg>
                        </div>
                        <div class="weather-info">
                            <h3>Fog Risk</h3>
                            <div class="weather-value">3</div>
                            <div class="weather-label">Airports affected</div>
                        </div>
                    </div>

                    <div class="weather-card storm-card">
                        <div class="weather-icon">
                            <svg width="48" height="48" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"/>
                            </svg>
                        </div>
                        <div class="weather-info">
                            <h3>Storm Risk</h3>
                            <div class="weather-value">4</div>
                            <div class="weather-label">Airports affected</div>
                        </div>
                    </div>

                    <div class="weather-card wind-card">
                        <div class="weather-icon">
                            <svg width="48" height="48" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M14.5 17c0 1.65-1.35 3-3 3s-3-1.35-3-3h2c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1H2v-2h9.5c1.65 0 3 1.35 3 3zM19 6.5C19 4.57 17.43 3 15.5 3S12 4.57 12 6.5h2c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S16.33 8 15.5 8H2v2h13.5c1.93 0 3.5-1.57 3.5-3.5zm-.5 4.5H2v2h16.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5v2c1.93 0 3.5-1.57 3.5-3.5S20.43 11 18.5 11z"/>
                            </svg>
                        </div>
                        <div class="weather-info">
                            <h3>Wind Alerts</h3>
                            <div class="weather-value">2</div>
                            <div class="weather-label">Airports affected</div>
                        </div>
                    </div>

                    <div class="weather-card visibility-card">
                        <div class="weather-icon">
                            <svg width="48" height="48" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                            </svg>
                        </div>
                        <div class="weather-info">
                            <h3>Visibility Index</h3>
                            <div class="weather-value">66%</div>
                            <div class="weather-label">Average visibility</div>
                        </div>
                    </div>
                </div>

                <!-- Filters -->
                <div class="filters">
                    <div class="filter-group">
                        <label class="filter-label">Weather Condition</label>
                        <div class="select-wrapper">
                            <select id="weatherFilter">
                                <option>All Conditions</option>
                                <option>Clear</option>
                                <option>Fog</option>
                                <option>Rain</option>
                                <option>Storm</option>
                                <option>Snow</option>
                                <option>Wind</option>
                                <option>Cloudy</option>
                            </select>
                        </div>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Severity</label>
                        <div class="select-wrapper">
                            <select id="severityFilter">
                                <option>All Severity</option>
                                <option>Low</option>
                                <option>Medium</option>
                                <option>High</option>
                            </select>
                        </div>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Airport Region</label>
                        <div class="select-wrapper">
                            <select id="regionFilter">
                                <option>All Regions</option>
                                <option>East Coast</option>
                                <option>West Coast</option>
                                <option>Midwest</option>
                                <option>International</option>
                            </select>
                        </div>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">&nbsp;</label>
                        <button class="export-btn" onclick="exportWeatherData()">
                            Download Report
                        </button>
                    </div>
                </div>

                <!-- Charts Grid -->
                <div class="charts-grid">
                    <!-- Delay Probability by Weather -->
                    <div class="card">
                        <div class="card-title">
                            <span>Delay Probability by Weather</span>
                            <div class="card-actions">
                                <button class="card-action-btn" onclick="refreshChart('weather-bar')">↻</button>
                                <button class="card-action-btn" onclick="toggleFullscreen(this)">⛶</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="weatherBarChart"></canvas>
                        </div>
                    </div>

                    <!-- Delay Trend Under Bad Weather -->
                    <div class="card">
                        <div class="card-title">
                            <span>Delay Trend Under Bad Weather</span>
                            <div class="card-actions">
                                <button class="card-action-btn" onclick="refreshChart('trend')">↻</button>
                                <button class="card-action-btn" onclick="toggleFullscreen(this)">⛶</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="trendChart"></canvas>
                        </div>
                    </div>

                    <!-- Weather Forecast 48h -->
                    <div class="card full-width">
                        <div class="card-title">
                            <span>48-Hour Weather Forecast</span>
                            <div class="card-actions">
                                <button class="card-action-btn" onclick="refreshForecast()">↻</button>
                                <button class="card-action-btn" onclick="toggleFullscreen(this)">⛶</button>
                            </div>
                        </div>
                        <div class="forecast-container" id="forecastContainer">
                            <!-- Forecast items will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Precipitation & Ceiling Height -->
                    <div class="card">
                        <div class="card-title">
                            <span>Precipitation Forecast & Ceiling Height</span>
                            <div class="card-actions">
                                <button class="card-action-btn" onclick="refreshChart('precip')">↻</button>
                                <button class="card-action-btn" onclick="toggleFullscreen(this)">⛶</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="precipChart"></canvas>
                        </div>
                    </div>

                    <!-- Runway Conditions -->
                    <div c
                    lass="card">
                        <div class="card-title">
                            <span>Runway Conditions & Weather Alerts</span>
                            <div class="card-actions">
                                <button class="card-action-btn" onclick="refreshRunways()">↻</button>
                                <button class="card-action-btn" onclick="toggleFullscreen(this)">⛶</button>
                            </div>
                        </div>
                        <div class="runway-grid" id="runwayGrid">
                            <!-- Runway conditions will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Weather Impact by Airport Table -->
                    <div class="card full-width">
                        <div class="card-title">
                            <span>Weather Impact by Airport</span>
                            <div class="card-actions">
                                <button class="card-action-btn" onclick="sortWeatherTable()">⇅</button>
                                <button class="card-action-btn" onclick="filterWeatherTable()">⚙</button>
                            </div>
                        </div>
                        <table class="data-table" id="weatherTable">
                            <thead>
                                <tr>
                                    <th>Airport</th>
                                    <th>Weather</th>
                                    <th>Severity</th>
                                    <th>Delay Probability</th>
                                    <th>Affected Flights</th>
                                </tr>
                            </thead>
                            <tbody id="weatherTableBody">
                                <!-- Data will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Tooltip -->
    <div class="tooltip" id="tooltip"></div>

    <script src="weather_script.js"></script>
</body>
</html>